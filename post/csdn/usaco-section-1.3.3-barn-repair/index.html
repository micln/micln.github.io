<!DOCTYPE html>
<html lang="zh-Hans">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.0">
  <meta name="generator" content="Hugo 0.90.0" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="huiren">

  
  
  
    
  
  <meta name="description" content="此页面通过工具从 csdn 导出，格式可能有问题。 题目 Barn Repair It was a dark and stormy night that ripped the roof and gates off the stalls that hold Farmer John&#39;s cows. Happily, many of the cows were on vacation, so the barn was not completely full. The cows spend the night in stalls that are arranged">

  
  <link rel="alternate" hreflang="zh-Hans" href="/post/csdn/usaco-section-1.3.3-barn-repair/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.staticfile.org/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.8.1/css/all.min.css" integrity="sha256-7rF6RaSKyh16288E3hVdzQtHyzatA2MQRGu0cf6pqqM=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.6/styles/monokai-sublime.min.css" crossorigin="anonymous">
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="在水异方">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="在水异方">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/csdn/usaco-section-1.3.3-barn-repair/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@yifangtian">
  <meta property="twitter:creator" content="@yifangtian">
  
  <meta property="og:site_name" content="在水异方">
  <meta property="og:url" content="/post/csdn/usaco-section-1.3.3-barn-repair/">
  <meta property="og:title" content="USACO Section 1.3.3 Barn Repair | 在水异方">
  <meta property="og:description" content="此页面通过工具从 csdn 导出，格式可能有问题。 题目 Barn Repair It was a dark and stormy night that ripped the roof and gates off the stalls that hold Farmer John&#39;s cows. Happily, many of the cows were on vacation, so the barn was not completely full. The cows spend the night in stalls that are arranged"><meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="zh-Hans">
  
  <meta property="article:published_time" content="2013-05-22T10:54:09&#43;08:00">
  
  <meta property="article:modified_time" content="2013-05-22T10:54:09&#43;08:00">
  

  

  

  <title>USACO Section 1.3.3 Barn Repair | 在水异方</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>搜索</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">在水异方</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="切换导航">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/post">
            
            <span><i class="fas fa-file-alt"></i> Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tags">
            
            <span><i class="fas fa-tags"></i> Tags</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/categories">
            
            <span><i class="fas fa-folder-open"></i> Categories</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">USACO Section 1.3.3 Barn Repair</h1>

  

  
    



<meta content="2013-05-22 10:54:09 &#43;0800 CST" itemprop="datePublished">
<meta content="2013-05-22 10:54:09 &#43;0800 CST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    <time>May 22, 2013</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    2 分钟阅读时间
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/post/csdn/usaco-section-1.3.3-barn-repair/#disqus_thread"></a>
  
  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/usc/">usc</a>, 
    
    <a href="/categories/csdn/">csdn</a>
    
  </span>
  
  


  
    

  

</div>

    















  
</div>



  <div class="article-container">

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/usaco/">USACO</a>
  
  <a class="badge badge-light" href="/tags/algorithm/">Algorithm</a>
  
  <a class="badge badge-light" href="/tags/acm/">ACM</a>
  
</div>




    <br>

    <div class="article-style" itemprop="articleBody">
      <blockquote>
<p>此页面通过工具从 csdn 导出，格式可能有问题。</p>
</blockquote>
 <div class="htmledit_views" id="content_views">
 <h2>
  题目
 </h2>
 <div>
  <table border="1" cellpadding="1" cellspacing="1">
   <tbody>
    <tr>
     <td>
      <center style="font-family:'文泉驿微米黑';font-size:14px;">
       <h1>
        Barn Repair
       </h1>
      </center>
      <p style="font-family:'文泉驿微米黑';font-size:14px;">
       It was a dark and stormy night that ripped the roof and gates off the stalls that hold Farmer John's cows. Happily, many of the cows were on vacation, so the barn was not completely full.
      </p>
      <p style="font-family:'文泉驿微米黑';font-size:14px;">
       The cows spend the night in stalls that are arranged adjacent to each other in a long line. Some stalls have cows in them; some do not. All stalls are the same width.
      </p>
      <p style="font-family:'文泉驿微米黑';font-size:14px;">
       Farmer John must quickly erect new boards in front of the stalls, since the doors were lost. His new lumber supplier will supply him boards of any length he wishes, but the supplier can only deliver a small number
 of total boards. Farmer John wishes to minimize the total length of the boards he must purchase.
      </p>
      <p style="font-family:'文泉驿微米黑';font-size:14px;">
       Given M (1 &lt;= M &lt;= 50), the maximum number of boards that can be purchased; S (1 &lt;= S &lt;= 200), the total number of stalls; C (1 &lt;= C &lt;= S) the number of cows in the stalls, and the C occupied stall numbers (1 &lt;=
 stall_number &lt;= S), calculate the minimum number of stalls that must be blocked in order to block all the stalls that have cows in them.
      </p>
      <p style="font-family:'文泉驿微米黑';font-size:14px;">
       Print your answer as the total number of stalls blocked.
      </p>
      <h3 style="font-family:'文泉驿微米黑';">
       PROGRAM NAME: barn1
      </h3>
      <h3 style="font-family:'文泉驿微米黑';">
       INPUT FORMAT
      </h3>
      <table border="1" style="font-family:'文泉驿微米黑';">
       <tbody>
        <tr>
         <td>
          Line 1:
         </td>
         <td>
          M, S, and C (space separated)
         </td>
        </tr>
        <tr>
         <td>
          Lines 2-C+1:
         </td>
         <td>
          Each line contains one integer, the number of an occupied stall.
         </td>
        </tr>
       </tbody>
      </table>
      <h3 style="font-family:'文泉驿微米黑';">
       SAMPLE INPUT (file barn1.in)
      </h3>
      <pre>4 50 18
3
4
6
8
14
15
16
17
21
25
26
27
30
31
40
41
42
43
</pre>
      <h3 style="font-family:'文泉驿微米黑';">
       OUTPUT FORMAT
      </h3>
      <span style="font-family:'文泉驿微米黑';font-size:14px;">
       A single line with one integer that represents the total number of stalls blocked.
      </span>
      <h3 style="font-family:'文泉驿微米黑';">
       SAMPLE OUTPUT (file barn1.out)
      </h3>
      <pre>25
</pre>
      <span style="font-family:'文泉驿微米黑';font-size:14px;">
       [One minimum arrangement is one board covering stalls 3-8, one covering 14-21, one covering 25-31, and one covering 40-43.]
      </span>
      <br/>
     </td>
    </tr>
   </tbody>
  </table>
  <br/>
 </div>
 <h2>
  思路
 </h2>
 <div>
  非常经典的贪心算法，很多比赛的都有这道题目的变种题（把牛变成猪把人名换成自己的名字）
 </div>
 <div>
  <br/>
 </div>
 <div>
  先来看一个很流行的方法：
 </div>
 <div>
  <br/>
 </div>
 <div>
  相连在一起的牛棚可以看成一个区域，假设一共出现了n个区域，你可以把题目想象成把一块大板子拆成n块，即从中挖n-1的洞，要使挖出的最多，这样就很简单了，自然每次挖最大的洞。
 </div>
 <div>
  举例说明：
 </div>
 <div>
  -----------
 </div>
 <div>
  1     7   9
 </div>
 <div>
  -----------
 </div>
 <div>
  有这样一块大板子，如果你只能挖出一块，挖最大的就是：
 </div>
 <div>
  -   -----
 </div>
 <div>
  1  7  9
 </div>
 <div>
  -   -----
 </div>
 <div>
  这样剩下的就是最小费用了。
 </div>
 <div>
  <br/>
 </div>
 <div>
  <strong>
   这个方法设计的非常巧妙。问题是，如何证明？如何能一下子就知道反过来考虑？
  </strong>
 </div>
 <div>
  <strong>
   <br/>
  </strong>
 </div>
 <div>
  不妨把算法换一种描述来看，题目M 块板子是一个限制条件，所以我们应该从这里去思考，假如只给你一块板子，那你一定是把所有的全盖上，期中必然会有很多浪费的地方，这些浪费有没有可能避免呢？这个时候给你两块板子，你就会想到两块板子避开空隙，如果有很多空隙你应该避哪个呢？当然是最大的，可以证明，避开另外任意一个缺口都不如避开最大的缺口省材料。于是第三块板子第四块板子也就明白了。
 </div>
 <div>
  <br/>
 </div>
 <h2>
  代码
 </h2>
 <div>
  <pre><code class="language-cpp">/*
ID:zhrln1
PROG:barn1
LANG:C++
*/
#include &lt;cstdio&gt;
#include &lt;algorithm&gt;
using namespace std;
int n,m,s,c,a[222],b[222],l,r,sum;
int cmp(int a,int b){
	return a&gt;b;
}
int main(){
	freopen("barn1.in","r",stdin);
	freopen("barn1.out","w",stdout);
	scanf("%d%d%d",&amp;m,&amp;s,&amp;c);
	for (int i(1);i&lt;=c;i++) scanf("%d",&amp;a[i]);
	sort(a+1,a+c+1);
	int l=a[1],r;
	for (int i(2);i&lt;=c;i++){
		r=a[i];
		if (r-l&gt;1){
			b[++n]=r-l-1;
		}
		l=r;
	}
	sort(b+1,b+n+1,cmp);
	if (--m &lt; n ) n=m;
	s=a[c]-a[1]+1;
	for (int i(1);i&lt;=n;i++){
		s-=b[i];
	}
	printf("%d\n",s);
	return 0;
}
</code></pre>
  <br/>
  <br/>
 </div>
</div>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/usaco/">USACO</a>
  
  <a class="badge badge-light" href="/tags/algorithm/">Algorithm</a>
  
  <a class="badge badge-light" href="/tags/acm/">ACM</a>
  
</div>




    
      






  







<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  
  <img class="portrait mr-3" src="/author/admin/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
  

  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/authors/admin">huiren</a></h5>
    <h6 class="card-subtitle">Code Artisan</h6>
    <p class="card-text" itemprop="description">问渠那得清如许，为有源头活水来</p>
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/micln" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://t.me/betterCode" target="_blank" rel="noopener">
          <i class="fab fa-telegram"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://m.igetget.com/share/user/YPA7ryGqdNlxLQQXYgMQVOpDa3e4ob" target="_blank" rel="noopener">
          <i class="fab fa-earlybirds"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.zhihu.com/people/zhang-xing-71" target="_blank" rel="noopener">
          <i class="fab fa-zhihu"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>



      
      
      <div class="article-widget">
        <div class="hr-light"></div>
        <h3>相关</h3>
        <ul>
          
          <li><a href="/post/csdn/usaco-section-1.3.2-mixing-milk/">USACO Section 1.3.2 Mixing Milk</a></li>
          
          <li><a href="/post/csdn/usaco-section-1.2.5-palindromic-squares/">USACO Section 1.2.5 Palindromic Squares</a></li>
          
          <li><a href="/post/csdn/usaco-section-1.2.3-transformations/">USACO Section 1.2.3 Transformations</a></li>
          
          <li><a href="/post/csdn/usaco-section-1.2.4-name-that-number/">USACO Section 1.2.4 Name That Number</a></li>
          
          <li><a href="/post/csdn/usaco-section-1.2.2-milking-cows/">USACO Section 1.2.2 Milking Cows</a></li>
          
        </ul>
      </div>
      
    

    
    <div class="article-widget">
      <div class="post-nav">
  
  <div class="post-nav-item">
    <div class="meta-nav">下一页</div>
    <a href="/post/csdn/usaco-section-1.3.5-calf-flac/" rel="next">USACO Section 1.3.5 Calf Flac</a>
  </div>
  
  
  <div class="post-nav-item">
    <div class="meta-nav">上一页</div>
    <a href="/post/csdn/usaco-section-1.3.2-mixing-milk/" rel="prev">USACO Section 1.3.2 Mixing Milk</a>
  </div>
  
</div>

    </div>
    

    
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zhr" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



  </div>
</article>

<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    ©2022 在水异方 

    &nbsp; &middot; &nbsp;
    <a href="http://beian.miit.gov.cn/" target="_blank" >京ICP备17022923号-1</a>
    &nbsp; &middot; &nbsp;

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdn.staticfile.org/jquery/3.4.0/jquery.js" integrity="sha256-DYZMCC8HTC+QDr5QNaIcfR7VSPtcISykd+6eSmBW5qo=" crossorigin="anonymous"></script>
      <script src="https://cdn.staticfile.org/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdn.staticfile.org/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdn.staticfile.org/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdn.staticfile.org/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="//cdn.staticfile.org/highlight.js/9.15.6/languages/go.min.js"></script>
        
      

      
      
      <script src="https://cdn.staticfile.org/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    
    <script id="dsq-count-scr" src="//zhr.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "搜索...",
        'results': "搜索结果",
        'no_results': "没有找到结果"
      };
      const content_type = {
        'post': "文章",
        'project': "项目",
        'publication' : "出版物",
        'talk' : "演讲"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdn.staticfile.org/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdn.staticfile.org/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.0c9fffc0c6745202edd5b812584e7c48.js"></script>

  </body>
</html>

